cmake_minimum_required(VERSION 2.8.12)

project(opennn)

set(CMAKE_CXX_STANDARD 11)
set(CPACK_GENERATOR "TGZ")

set(CMAKE_SUPPRESS_REGENERATION true)
set(VS_STARTUP_PROJECT opennn)

find_package(TBB REQUIRED tbb)
link_libraries(TBB::tbb)

find_package(OpenMP REQUIRED)
set(CMAKE_C_FLAGS "${OpenMP_C_FLAGS}")
set(CMAKE_CXX_FLAGS "${OpenMP_CXX_FLAGS}")

add_subdirectory(opennn)

include_directories(opennn)

option(OpenNN_BUILD_EXAMPLES "Build OpenNN examples" ON)

option(OpenNN_BUILD_BLANK "Build OpenNN blank" ON)

option(OpenNN_BUILD_TESTS "Build OpenNN tests" ON)

if(OpenNN_BUILD_EXAMPLES)
    add_subdirectory(examples)
endif(OpenNN_BUILD_EXAMPLES)

if(OpenNN_BUILD_BLANK)
    add_subdirectory(blank)
endif(OpenNN_BUILD_BLANK)

if(OpenNN_BUILD_TESTS)
    add_subdirectory(tests)
endif(OpenNN_BUILD_TESTS)

include(CPack)
